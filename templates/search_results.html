{% extends "layout.html" %}

{% block content %}
<!-- Display search query and count results -->
<h2>Showing Results for "{{ query }}"</h2>
{% if no_matches_found %}
<p>No matches found.</p>
{% else %}
<p>{{ total_matches }} results found.</p>
{% endif %}

{% for item in t_matches %}
<li>
    <a href="/view/{{ item.id }}" class="search-result" data-search-term="{{ query | safe }}">{{ item.title }}</a>
</li>
{% endfor %}



<script>
    $(document).ready(function () {
        $('.search-result').each(function () {
            var searchTerm = $(this).data('search-term');
            var originalText = $(this).text();
            var highlightedText = originalText.replace(new RegExp(searchTerm, 'gi'), `<strong>$&</strong>`);
            $(this).html(highlightedText);
        });
    });
</script>


<!-- Repeat for abstracts, keywords, and sections -->

{% endblock %}